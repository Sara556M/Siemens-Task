version: 2.1

executors:
  chrome-node:
    docker:
      - image: cimg/node:20.6.1-browsers
    working_directory: ~/project/ui-tests  # Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ ui-tests Ù…Ø¨Ø§Ø´Ø±Ø©

jobs:
  test:
    executor: chrome-node
    steps:
      - checkout:
          path: ~/project  # ðŸ‘ˆ Ù†Ø¹Ù…Ù„ checkout Ù„Ø¬Ø°Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ project

      - run:
          name: Install dependencies
          command: npm install

      - run:
          name: Run Nightwatch UI tests (headless)
          command: npm test

      - store_artifacts:
          path: screenshots
          destination: screenshots

workflows:
  version: 2
  ui-tests:
    jobs:
      - test
